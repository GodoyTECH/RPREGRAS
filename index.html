<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verific OneS RP - Verificador de Infrações com IA</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="css/styles.css">

</head>
<body class="auth-pending">
 <div id="loginView" class="login-view">
    <div id="loginScreen" class="login-container">
        <h2><i class="fas fa-lock"></i> Acesso Restrito</h2>
        <p>Digite a senha para acessar o sistema Verific OS RP</p>
        <input type="password" id="passwordInput" class="password-input" placeholder="Digite a senha...">
        <button onclick="checkPassword()" class="login-btn">Acessar Sistema</button>
        <div id="errorMessage" class="error-message">
            <i class="fas fa-exclamation-triangle"></i> Senha incorreta!
        </div>
    </div>
</div>

<div id="appView" class="app-hidden">
<div id="mainContent">
    <!-- SEU CONTEÚDO ATUAL AQUI -->

    <header class="collapsible" data-collapsible>
        <button class="collapsible-trigger header-trigger" type="button" data-collapsible-trigger>
            <span class="header-trigger-content">
                <i class="fas fa-shield-alt logo-icon"></i>
                <h1>ONESTATE RP</h1>
            </span>
            <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
        </button>
        <div class="collapsible-panel header-panel" data-collapsible-panel>
            <p class="subtitle">Sistema de Verificação de Infrações com Inteligência Artificial</p>
            <div>
                <span class="badge">v2.1</span>
                <span class="badge badge-ia">IA Integrada</span>
                <span class="badge badge-police">Módulo Policial</span>
            </div>
            <div class="header-actions">
                <button id="logoutButton" class="btn btn-outline btn-logout" type="button">Sair</button>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="content-left">
            <!-- Card de Verificação Principal -->
            <div class="card collapsible" id="cardVerificacao" data-collapsible data-collapsible-default="open">
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-search"></i>
                        <span class="card-title">Verificador de Infrações</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>

                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="voice-input-group">
                        <textarea id="entrada" placeholder="Descreva a infração cometida ou digite o código da regra (ex: RP1, CHAT4, ABUSE3)..."></textarea>
                        <button id="voiceButton" class="voice-button" type="button" aria-label="Ativar microfone" aria-pressed="false">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                    <div id="voiceStatus" class="voice-status" role="status" aria-live="polite"></div>
                    
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="verificarNormal()">
                            <i class="fas fa-search"></i> Verificar Infração
                        </button>
                        <button class="btn btn-ia" onclick="verificarComIA()">
                            <i class="fas fa-robot"></i> Verificar com IA
                        </button>
                        <button class="btn btn-outline" onclick="limpar()">
                            <i class="fas fa-eraser"></i> Limpar
                        </button>
                    </div>
                    
                    <button class="btn btn-secondary toggle-ia" onclick="toggleModoIA()" style="margin-top: 15px; width: 100%;">
                        <i class="fas fa-robot"></i> Alternar para Verificação com IA
                    </button>
                </div>
            </div>

            <!-- Estatísticas -->
            <div class="simple-section collapsible" data-collapsible>
                <button class="collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="simple-section-title">Estatísticas</span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="estatisticas" id="estatisticas" style="display: none;">
                        <div class="estatistica">
                            <div class="estatistica-numero" id="totalInfracoes">0</div>
                            <div class="estatistica-label">Total de Infrações</div>
                        </div>
                        <div class="estatistica rp">
                            <div class="estatistica-numero" id="infracoesRP">0</div>
                            <div class="estatistica-label">Infrações de RP</div>
                        </div>
                        <div class="estatistica chat">
                            <div class="estatistica-numero" id="infracoesChat">0</div>
                            <div class="estatistica-label">Infrações de Chat</div>
                        </div>
                        <div class="estatistica ia">
                            <div class="estatistica-numero" id="confiancaIA">0%</div>
                            <div class="estatistica-label">Confiança da IA</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resultados -->
            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-list-alt"></i>
                        <span class="card-title">Resultados da Verificação</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div id="resultado">
                        <div class="nenhum">
                            <i class="fas fa-clipboard-list"></i>
                            <p>Nenhuma infração verificada ainda.<br>Descreva uma infração acima para começar.</p>
                        </div>
                    </div>
                    <div class="loading" id="iaLoading" style="display: none;">
                        <i class="fas fa-robot fa-spin"></i>
                        <p>Analisando a infração com IA...</p>
                    </div>
                </div>
            </div>

            <!-- Card de Verificação Policial -->
            <div class="card collapsible" id="cardVerificacaoPolicial" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-balance-scale"></i>
                        <span class="card-title">Verificador de Crimes - Módulo Policial</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                
                <div class="collapsible-panel" data-collapsible-panel>
                    <textarea id="entradaPolicial" placeholder="Descreva o crime cometido ou digite o código do artigo (ex: 1.4, 2.5, 3.1)..."></textarea>
                    
                    <div class="button-group">
                        <button class="btn btn-police" onclick="verificarNormalPolicial()">
                            <i class="fas fa-search"></i> Verificar Crime
                        </button>
                        <button class="btn btn-ia" onclick="verificarComIAPolicial()">
                            <i class="fas fa-robot"></i> Verificar com IA
                        </button>
                        <button class="btn btn-outline" onclick="limparPolicial()">
                            <i class="fas fa-eraser"></i> Limpar
                        </button>
                    </div>
                    
                    <button class="btn btn-secondary toggle-police" onclick="toggleModoPolicial()" style="margin-top: 15px; width: 100%;">
                        <i class="fas fa-robot"></i> Alternar para Verificação com IA
                    </button>
                </div>
            </div>

            <!-- Estatísticas Policiais -->
            <div class="simple-section collapsible" data-collapsible>
                <button class="collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="simple-section-title">Estatísticas Policiais</span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="estatisticas" id="estatisticasPolicial" style="display: none;">
                        <div class="estatistica police">
                            <div class="estatistica-numero" id="totalCrimes">0</div>
                            <div class="estatistica-label">Total de Crimes</div>
                        </div>
                        <div class="estatistica grave">
                            <div class="estatistica-numero" id="crimesCriminal">0</div>
                            <div class="estatistica-label">Crimes Criminais</div>
                        </div>
                        <div class="estatistica">
                            <div class="estatistica-numero" id="crimesCivil">0</div>
                            <div class="estatistica-label">Crimes Civis</div>
                        </div>
                        <div class="estatistica ia">
                            <div class="estatistica-numero" id="confiancaIAPolicial">0%</div>
                            <div class="estatistica-label">Confiança da IA</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resultados Policiais -->
            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-gavel"></i>
                        <span class="card-title">Resultados - Crimes Identificados</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div id="resultadoPolicial">
                        <div class="nenhum">
                            <i class="fas fa-clipboard-list"></i>
                            <p>Nenhum crime verificado ainda.<br>Descreva um crime acima para começar.</p>
                        </div>
                    </div>
                    <div class="loading" id="policeLoading" style="display: none;">
                        <i class="fas fa-robot fa-spin"></i>
                        <p>Analisando o crime com IA Policial...</p>
                    </div>
                </div>
            </div>

            <!-- Regras da Polícia -->
            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-book"></i>
                        <span class="card-title">Regras de Conduta Policial</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div id="conteudoRegrasPolicia">
                        <h3 style="color:var(--accent); margin:15px 0 10px;">Regras de Patrulha</h3>
                        <p>4. É obrigatório o uso do uniforme completo durante o serviço. <strong>Penalidade:</strong> Repreensão.</p>
                        <p>5. É proibido abandonar a viatura em locais inadequados. <strong>Penalidade:</strong> Repreensão.</p>
                        <p>6. É proibido usar armas de fogo sem motivo plausível. <strong>Penalidade:</strong> Remoção.</p>

                        <h3 style="color:var(--accent); margin:15px 0 10px;">Regras de Prisão</h3>
                        <p>7. É proibido prender qualquer cidadão sem provas concretas. <strong>Penalidade:</strong> Remoção.</p>
                        <p>8. É proibido agredir presos. <strong>Penalidade:</strong> Remoção.</p>
                        <p>9. É obrigatório ler os direitos do preso no momento da prisão. <strong>Penalidade:</strong> Repreensão.</p>

                        <h3 style="color:var(--accent); margin:15px 0 10px;">Regras de Perseguição</h3>
                        <p>10. É proibido perseguir veículos sem motivo. <strong>Penalidade:</strong> Repreensão.</p>
                        <p>11. É proibido atirar em veículos em movimento sem motivo. <strong>Penalidade:</strong> Remoção.</p>
                        <p>12. É obrigatório usar sirene durante perseguições. <strong>Penalidade:</strong> Repreensão.</p>
                    </div>
                </div>
            </div>

            <!-- Caixa de Imagem do Departamento de Polícia -->
            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-id-badge"></i>
                        <span class="card-title">Direitos e Diretrizes</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="police-image-box">
                        <p>Mikhael Devereux</p>
                        <img
                            src="img.jpeg"
                            alt="Imagem Direitos e Diretrizes"
                            class="police-image"
                        >
                    </div>

                    <p style="margin-top: 10px; font-size: 0.9rem;">Departamento de Polícia - Onestate RP</p>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-list"></i>
                        <span class="card-title">Categorias de Regras</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="categorias">
                        <button class="categoria-btn active" data-categoria="todas">
                            <i class="fas fa-layer-group"></i> Todas as Regras
                        </button>
                        <button class="categoria-btn" data-categoria="rp">
                            <i class="fas fa-user-circle"></i> Regras de RP
                        </button>
                        <button class="categoria-btn" data-categoria="chat">
                            <i class="fas fa-comments"></i> Regras de Chat
                        </button>
                        <button class="categoria-btn" data-categoria="conta">
                            <i class="fas fa-user"></i> Regras de Conta
                        </button>
                        <button class="categoria-btn" data-categoria="abuso">
                            <i class="fas fa-exclamation-circle"></i> Regras de Abuso
                        </button>
                        <button class="categoria-btn" data-categoria="alerta">
                            <i class="fas fa-radiation"></i> Regras de Alerta
                        </button>
                        <button class="categoria-btn" data-categoria="media">
                            <i class="fas fa-photo-video"></i> Regras de Mídia
                        </button>
                        <button class="categoria-btn" data-categoria="clan">
                            <i class="fas fa-users"></i> Regras de Clan
                        </button>
                        <button class="categoria-btn" data-categoria="nome">
                            <i class="fas fa-signature"></i> Regras de Nome
                        </button>
                        <button class="categoria-btn" data-categoria="police">
                            <i class="fas fa-shield-alt"></i> Crimes Policiais
                        </button>
                    </div>
                </div>
            </div>

            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-book"></i>
                        <span class="card-title">Todas as Regras</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="todas-regras" id="todasRegras">
                        <!-- As regras serão carregadas aqui pelo JavaScript -->
                    </div>
                </div>
            </div>

            <div class="card collapsible" data-collapsible>
                <button class="card-header collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="card-header-main">
                        <i class="fas fa-lightbulb"></i>
                        <span class="card-title">Exemplos de Infrações</span>
                    </span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="exemplos">
                        <div class="exemplo" onclick="inserirExemplo('O player estava dirigindo normalmente quando outro player saiu de uma rua lateral e atropelou ele de propósito, depois fugiu rindo.')">
                            <strong>Atropelamento Doloso</strong>
                            <p>Atropelar outro jogador intencionalmente e fugir do local.</p>
                            <div class="palavras-chave">Palavras-chave: atropelar, propósito, fugir, rindo</div>
                        </div>
                        <div class="exemplo" onclick="inserirExemplo('O player estava em um assalto e atirou em todos os reféns sem motivo, depois saiu correndo.')">
                            <strong>Abuso de Mecânicas</strong>
                            <p>Matar reféns durante um assalto sem justificativa.</p>
                            <div class="palavras-chave">Palavras-chave: assalto, reféns, atirar, sem motivo</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="busca-rapida simple-section collapsible" data-collapsible>
                <button class="collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="simple-section-title">Busca Rápida por Código</span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="codigos-regras">
                        <div class="codigo-regra" onclick="inserirCodigo('ABUSE3')">ABUSE3</div>
                        <div class="codigo-regra" onclick="inserirCodigo('RP1')">RP1</div>
                        <div class="codigo-regra" onclick="inserirCodigo('CHAT5')">CHAT5</div>
                        <div class="codigo-regra" onclick="inserirCodigo('AC2')">AC2</div>
                        <div class="codigo-regra" onclick="inserirCodigo('ALERT1')">ALERT1</div>
                        <div class="codigo-regra" onclick="inserirCodigo('MEDIA1')">MEDIA1</div>
                        <div class="codigo-regra" onclick="inserirCodigo('CLAN3')">CLAN3</div>
                        <div class="codigo-regra" onclick="inserirCodigo('NAME2')">NAME2</div>
                    </div>
                </div>
            </div>

            <div class="busca-rapida simple-section collapsible" data-collapsible>
                <button class="collapsible-trigger" type="button" data-collapsible-trigger>
                    <span class="simple-section-title">Artigos Criminais</span>
                    <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
                </button>
                <div class="collapsible-panel" data-collapsible-panel>
                    <div class="codigos-regras">
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('1.4')">1.4</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('1.5')">1.5</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('2.4')">2.4</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('2.5')">2.5</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('3.1')">3.1</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('3.5')">3.5</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('1.1')">1.1</div>
                        <div class="codigo-regra" onclick="inserirCodigoPolicial('2.1')">2.1</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="collapsible" data-collapsible>
        <button class="collapsible-trigger" type="button" data-collapsible-trigger>
            <span>Rodapé e Créditos</span>
            <i class="fas fa-chevron-down collapsible-chevron" aria-hidden="true"></i>
        </button>
        <div class="collapsible-panel" data-collapsible-panel>
            <p>ONESTATE RP - Sistema de Verificação com IA &copy; 2025</p>
            <p>Desenvolvido para aprimorar a experiência de roleplay e garantir o cumprimento das regras
Desenvolvido pela Empresa Godoy Solutions in Tech : Caíque Eduardo Godoy da Silva (Cadu Godoy)</p>
        </div>
    </footer>
</div>
</div>

<script src="ai/voiceInput.js"></script>
<script src="ai/geminiVerify.js"></script>
<script src="js/regras.js"></script>
<script src="js/app.js"></script>
<script src="js/iaVerification.js"></script>
</body>
</html>
